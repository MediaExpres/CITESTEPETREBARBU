import{S as et,M as Ie,B as Re,T as Ge,a as V,b as c,P as tt,W as ot,R as he,c as nt,A as st,d as it,e as at,f as rt,D as ct,g as M,O as lt,h as dt,i as we,G as B,C as ue,j as We,k as ze,l as Be,E as Fe,m as ee,n as te,o as ht,p as wt,q as ut,r as pt,V as y}from"./vendor-three-DuqzdAyt.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}})();const Oe="ontouchstart"in window||navigator.maxTouchPoints>0,w=new et,mt=new pt,ft=["skybox/px.png","skybox/nx.png","skybox/py.png","skybox/ny.png","skybox/pz.png","skybox/nz.png"],gt=ft.map(e=>new Ie({map:new Ge().load(e),side:Re})),yt=new V(950,950,950),bt=new c(yt,gt);w.add(bt);const L=new tt(75,window.innerWidth/window.innerHeight,.1,1e3),I=new ot({antialias:!0});I.setSize(window.innerWidth,window.innerHeight);I.shadowMap.enabled=!0;document.body.appendChild(I.domElement);const xt=new Ge,oe=xt.load("https://threejs.org/examples/textures/brick_diffuse.jpg");oe.wrapS=he;oe.wrapT=he;oe.repeat.set(4,2);const ve=new nt({color:11393254,metalness:.1,roughness:0,ior:1.5,transmission:1,transparent:!0,thickness:.5,reflectivity:1}),W=new st;L.add(W);const E=new it(W),St=new at,N=.1,Ee=1,Ce=25;St.load("muzica.mp3",function(e){E.setBuffer(e),E.setLoop(!0),E.setVolume(N)});let d,A={KeyW:!1,KeyA:!1,KeyS:!1,KeyD:!1,Space:!1};const Tt=new rt(11393254,.4);w.add(Tt);const R=new ct(11393254,.8);R.position.set(50,50,25);R.castShadow=!0;R.shadow.camera.top=50;R.shadow.camera.bottom=-50;R.shadow.camera.left=-50;R.shadow.camera.right=50;w.add(R);const U=new M({color:10066329,metalness:.1,roughness:.8}),Mt=new M({color:2236962,roughness:.2,metalness:.1});if(Oe){document.getElementById("instructions-desktop")?.remove(),L.position.set(25,10,60),d=new lt(L,I.domElement),d.enableDamping=!0,d.dampingFactor=.05,d.screenSpacePanning=!1,d.maxPolarAngle=Math.PI/2.1,d.target.set(0,5,0);const e=document.getElementById("instructions-mobile");e.addEventListener("click",()=>{W.context.state==="suspended"&&W.context.resume(),E.isPlaying||E.play(),e.style.display="none"},{once:!0})}else{document.getElementById("instructions-mobile")?.remove(),d=new dt(L,document.body);const e=document.createElement("div");e.id="instructions-desktop",e.innerHTML="Click pentru a începe<br>(W, A, S, D = Mișcare, MOUSE = Privire, SPACE = Săritură)",e.style.cssText="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:white; font-size:24px; text-align:center; background:rgba(0,0,0,0.5); padding:20px; border-radius:10px; cursor:pointer;",document.body.appendChild(e),e.addEventListener("click",()=>{d.lock()}),d.addEventListener("lock",()=>{e.style.display="none",W.context.state==="suspended"&&W.context.resume(),E.isPlaying||E.play()}),d.addEventListener("unlock",()=>{e.style.display=""}),d.object.position.set(25,5,45),w.add(d.object),document.addEventListener("keydown",o=>{A[o.code]=!0}),document.addEventListener("keyup",o=>{A[o.code]=!1})}window.addEventListener("resize",()=>{L.aspect=window.innerWidth/window.innerHeight,L.updateProjectionMatrix(),I.setSize(window.innerWidth,window.innerHeight)});const Pt=new we(200,200),ne=new c(Pt,Mt);ne.rotation.x=-Math.PI/2;ne.position.y=-.05;ne.receiveShadow=!0;w.add(ne);function Ne(e,o){const n=new B,i=new ee(.2,.2,15,12),t=new M({color:2236962,roughness:.6}),a=new c(i,t);a.position.y=7.5,a.castShadow=!0,n.add(a);const h=new ht(.9,16,8),m=new Ie({color:16777215}),u=new c(h,m);u.position.y=15,n.add(u);const f=new wt(11393254,8e3,80,Math.PI/4,.2,1.5);f.position.set(0,15,0),f.castShadow=!0,n.add(f),n.position.set(e,0,o),w.add(n);const P=new ut;P.position.set(0,8,0),w.add(P),f.target=P}const de=new B,ke=new V(1,6,1),C=14,k=4;for(let e=0;e<C;e++){const o=(e-(C-1)/2)*k,n=3,i=new c(ke,U);i.position.set(o,n,14),i.castShadow=!0,de.add(i);const t=new c(ke,U);t.position.set(o,n,-14),t.castShadow=!0,de.add(t)}w.add(de);const Ue=new B,S=7,se=1;function vt(e){const o=new B,n=6+e*S,i=k*C,t=35,a=1,h=i-25,m=t-10,u=new ze;u.moveTo(-i/2,-t/2),u.lineTo(-i/2,t/2),u.lineTo(i/2,t/2),u.lineTo(i/2,-t/2),u.lineTo(-i/2,-t/2);const f=new Be;f.moveTo(-h/2,-m/2),f.lineTo(-h/2,m/2),f.lineTo(h/2,m/2),f.lineTo(h/2,-m/2),f.lineTo(-h/2,-m/2),u.holes.push(f);const P={steps:1,depth:a,bevelEnabled:!1},v=new Fe(u,P),O=new c(v,U);O.position.y=n+a/2,O.rotation.x=-Math.PI/2,O.receiveShadow=!0,O.castShadow=!0,o.add(O);const be=new V(1,S,1.5),xe=new V(k-1,S-1,.2);for(let _=0;_<C;_++){const re=(_-(C-1)/2)*k,ce=new c(be,U);ce.position.set(re,n+S/2-.5,14),ce.castShadow=!0,o.add(ce);const le=new c(be,U);if(le.position.set(re,n+S/2-.5,-14),le.castShadow=!0,o.add(le),_<C-1){const Se=re+k/2,Te=n+S/2,Me=new c(xe,ve);Me.position.set(Se,Te,14),o.add(Me);const Pe=new c(xe,ve);Pe.position.set(Se,Te,-14),o.add(Pe)}}return o}for(let e=0;e<se;e++)Ue.add(vt(e));w.add(Ue);const j=k*C,pe=5+se*S,Z=35,Et=1,Ve=new M({map:oe}),je=new V(Et,pe,Z),D=new c(je,Ve);D.position.set(-j/2,pe/2,0);D.castShadow=!0;D.receiveShadow=!0;w.add(D);const H=new c(je,Ve);H.position.set(j/2,pe/2,0);H.castShadow=!0;H.receiveShadow=!0;w.add(H);const De=j/2+5,He=Z/2+5;Ne(De,He);Ne(-De,He);const T=document.createElement("canvas"),x=T.getContext("2d");T.width=412;T.height=86;x.fillStyle="#9B111E";x.fillRect(0,0,T.width,T.height);for(let e=0;e<5e3;e++){const o=Math.random()*T.width,n=Math.random()*T.height,i=Math.random()*2;x.fillStyle=`rgba(0, 0, 0, ${Math.random()*.1})`,x.fillRect(o,n,i,i),x.fillStyle=`rgba(40, 26, 13, ${Math.random()*.1})`,x.fillRect(o,n,i,i)}x.fillStyle="white";x.font="bold 40px Arial";x.textAlign="center";x.textBaseline="middle";x.fillText("HYPERMARKET",T.width/2,T.height/2);const Ct=new ue(T),kt=new M({map:Ct,side:We,metalness:0,roughness:1}),Lt=k*C/2,Ke=5+se*S,qe=6+0*S+.5,At=Ke-qe,It=(Ke+qe)/2,Rt=new we(Lt,At),Ye=new c(Rt,kt);Ye.position.set(0,It,17.6);w.add(Ye);const K=k*C,q=35,Gt=1,z=12,G=new ze;G.moveTo(-K/2,-q/2);G.lineTo(-K/2,q/2);G.lineTo(K/2,q/2);G.lineTo(K/2,-q/2);G.lineTo(-K/2,-q/2);const Xe=new Be;Xe.absellipse(0,0,z,z,0,Math.PI*2,!1,0);G.holes.push(Xe);const Wt={steps:1,depth:Gt,bevelEnabled:!1},zt=new Fe(G,Wt),Bt=new M({color:"red",metalness:.1,roughness:.8,side:We}),Y=new c(zt,Bt);Y.position.y=5+se*S;Y.rotation.x=-Math.PI/2;Y.receiveShadow=!0;Y.castShadow=!0;w.add(Y);const $=25,J=6,ie=new B,Ft="blue",Q=.25,_e=new M({color:Ft,metalness:1,roughness:.3});for(let e=1;e<=J;e++){const o=Math.PI/2.2*(e/J),n=Math.sin(o)*z,i=Math.cos(o)*z;let t=null;for(let a=0;a<=$;a++){const h=a/$*Math.PI*2,m=new y(Math.cos(h)*i,n,Math.sin(h)*i);if(t){const u=new y().subVectors(m,t),f=u.length(),P=new y().addVectors(t,m).multiplyScalar(.5),v=new c(new ee(Q,Q,f,8),_e);v.position.copy(P),v.quaternion.setFromUnitVectors(new y(0,1,0),u.clone().normalize()),ie.add(v)}t=m}}for(let e=0;e<$;e++){const o=e/$*Math.PI*2;let n=null;for(let i=1;i<=J;i++){const t=Math.PI/2.2*(i/J),a=Math.sin(t)*z,h=Math.cos(t)*z,m=new y(Math.cos(o)*h,a,Math.sin(o)*h);if(n){const u=new y().subVectors(m,n),f=u.length(),P=new y().addVectors(n,m).multiplyScalar(.5),v=new c(new ee(Q,Q,f,8),_e);v.position.copy(P),v.quaternion.setFromUnitVectors(new y(0,1,0),u.clone().normalize()),ie.add(v)}n=m}}ie.position.y=10.5;w.add(ie);const F=new B,r=document.createElement("canvas"),l=r.getContext("2d");r.width=1536;r.height=1024;l.fillStyle="#CC0000";l.fillRect(0,0,r.width,r.height);l.textAlign="center";l.textBaseline="middle";l.fillStyle="white";l.font="bold 70px Sans-serif";l.fillText("BUN VENIT ÎN UNIVERSUL LITERAR",r.width/2,r.height*.12);l.font="50px Sans-serif";l.fillText("PETRE BARBU",r.width/2,r.height*.22);l.font="40px Sans-serif";l.fillText("PAGINA ESTE ÎN CONSTRUCȚIE",r.width/2,r.height*.3);l.font="30px Sans-serif";l.fillText("petrecenume@gmail.com",r.width/2,r.height*.38);l.font="35px Sans-serif";l.fillText("NOTA: priviți în jur cu mouse-ul, navigați cu tastele W, A, S, D.",r.width/2,r.height*.5);l.font="35px Sans-serif";l.fillText("Cu SPACEBAR săriți în sus de bucurie!",r.width/2,r.height*.58);l.font="bold 45px Sans-serif";l.fillText("TRĂIASCĂ LITERATURA! TRĂIASCĂ POPORUL!",r.width/2,r.height*.72);l.font="bold 45px Sans-serif";l.fillText("ÎN FRUNTE CU SCRIITORUL SĂU IUBIT!",r.width/2,r.height*.82);const Ot=new ue(r),Nt=new M({map:Ot}),me=15,Ut=10,Ze=new we(me,Ut),ae=new c(Ze,Nt);ae.castShadow=!0;ae.receiveShadow=!0;ae.position.y=1.5;const b=document.createElement("canvas"),s=b.getContext("2d");b.width=750;b.height=500;s.fillStyle="#CC0000";s.fillRect(0,0,b.width,b.height);s.fillStyle="#FFFF99";s.strokeStyle="#FFFF99";s.lineWidth=8;s.font="bold 50px cursive";s.textAlign="center";s.textBaseline="middle";s.fillText("Petre + Geta",b.width/2,b.height*.3);s.fillText("= LOVE",b.width/2,b.height*.45);const Vt=b.width/2,jt=b.height*.7,p=75;s.save();s.translate(Vt,jt);s.beginPath();s.moveTo(0,p*.25);s.bezierCurveTo(p*.5,-p*.5,p,0,0,p);s.bezierCurveTo(-p,0,-p*.5,-p*.5,0,p*.25);s.closePath();s.fill();s.rotate(-Math.PI/4);s.beginPath();s.moveTo(-p*1.5,0);s.lineTo(p*1.5,0);s.stroke();s.beginPath();s.moveTo(p*1.5,0);s.lineTo(p*1.3,-p*.3);s.lineTo(p*1.3,p*.3);s.closePath();s.fill();s.restore();const fe=new ue(b);fe.wrapS=he;fe.repeat.x=-1;const Dt=new M({map:fe,side:Re}),X=new c(Ze,Dt);X.position.y=1.5;X.position.z=-.01;X.receiveShadow=!0;X.castShadow=!0;F.add(ae);F.add(X);const Ht=8,Le=.15,$e=new ee(Le,Le,Ht,16),Je=new M({color:4473924}),ge=new c($e,Je);ge.position.set(-me/2,-1,-.1);ge.castShadow=!0;F.add(ge);const ye=new c($e,Je);ye.position.set(me/2,-1,-.1);ye.castShadow=!0;F.add(ye);F.position.set(29,5,33);w.add(F);const Ae=new te,Kt=new y(1,5,1),qt=new te().setFromObject(D),Yt=new te().setFromObject(H),Xt=new te(new y(-j/2,-10,-Z/2),new y(j/2,50,Z/2));I.compile(w,L);const g=new y,_t=20,Zt=-20;function Qe(){if(requestAnimationFrame(Qe),Oe)d&&d.update();else{const e=mt.getDelta();if(d&&d.isLocked===!0){g.x-=g.x*10*e,g.z-=g.z*10*e,g.y+=Zt*e;const o=new y;if(o.z=Number(A.KeyS)-Number(A.KeyW),o.x=Number(A.KeyA)-Number(A.KeyD),o.lengthSq()>0){o.normalize();const t=400;g.x+=o.x*t*e,g.z+=o.z*t*e}d.moveRight(-g.x*e),d.moveForward(-g.z*e),d.object.position.y+=g.y*e;const n=d.object.position;Ae.setFromCenterAndSize(n,Kt);const i=[qt,Yt];for(const t of i)Ae.intersectsBox(t)&&(n.x-=-g.x*e,g.x=0);if(n.y<5&&(g.y=0,n.y=5,A.Space&&(g.y=_t)),E.isPlaying){let t=N;const a=Xt.distanceToPoint(n);if(a<Ce){const h=1-a/Ce;t=N+h*(Ee-N)}E.setVolume(Math.max(N,Math.min(Ee,t)))}}}I.render(w,L)}Qe();
