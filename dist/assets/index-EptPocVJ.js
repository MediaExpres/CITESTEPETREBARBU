import{S as Ve,M as Ke,B as Me,T as ve,a as O,b as d,P as Ye,W as qe,R as ie,c as Xe,A as $e,D as _e,d as C,O as Je,e as Qe,f as ae,G as U,C as re,g as Ce,h as Ee,i as ke,E as Re,j as ce,k as le,l as Ze,V as y}from"./vendor-three-Bk70mgZX.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(e){if(e.ep)return;e.ep=!0;const a=i(e);fetch(e.href,a)}})();const Le="ontouchstart"in window||navigator.maxTouchPoints>0,p=new Ve,et=new Ze,tt=["skybox/px.png","skybox/nx.png","skybox/py.png","skybox/ny.png","skybox/pz.png","skybox/nz.png"],ot=tt.map(t=>new Ke({map:new ve().load(t),side:Me})),nt=new O(950,950,950),st=new d(nt,ot);p.add(st);const k=new Ye(75,window.innerWidth/window.innerHeight,.1,1e3),R=new qe({antialias:!0});R.setSize(window.innerWidth,window.innerHeight);R.shadowMap.enabled=!0;document.body.appendChild(R.domElement);const it=new ve,$=it.load("https://threejs.org/examples/textures/brick_diffuse.jpg");$.wrapS=ie;$.wrapT=ie;$.repeat.set(4,2);const Se=new Xe({color:11393254,metalness:.1,roughness:0,ior:1.5,transmission:1,transparent:!0,thickness:.5,reflectivity:1});let l,E={KeyW:!1,KeyA:!1,KeyS:!1,KeyD:!1,Space:!1};const at=new $e(16777215,.6);p.add(at);const L=new _e(16777215,1.5);L.position.set(50,50,25);L.castShadow=!0;L.shadow.camera.top=50;L.shadow.camera.bottom=-50;L.shadow.camera.left=-50;L.shadow.camera.right=50;p.add(L);const I=new C({color:10066329,metalness:.1,roughness:.8});if(Le)document.getElementById("instructions-desktop")?.remove(),k.position.set(25,10,60),l=new Je(k,R.domElement),l.enableDamping=!0,l.dampingFactor=.05,l.screenSpacePanning=!1,l.maxPolarAngle=Math.PI/2.1,l.target.set(0,5,0);else{document.getElementById("instructions-mobile")?.remove(),l=new Qe(k,document.body);const t=document.createElement("div");t.id="instructions-desktop",t.innerHTML="Click pentru a începe<br>(W, A, S, D = Mișcare, MOUSE = Privire, SPACE = Săritură)",t.style.cssText="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:white; font-size:24px; text-align:center; background:rgba(0,0,0,0.5); padding:20px; border-radius:10px; cursor:pointer;",document.body.appendChild(t),t.addEventListener("click",()=>{l.lock()}),l.addEventListener("lock",()=>{t.style.display="none"}),l.addEventListener("unlock",()=>{t.style.display=""}),l.object.position.set(25,5,45),p.add(l.object),document.addEventListener("keydown",o=>{E[o.code]=!0}),document.addEventListener("keyup",o=>{E[o.code]=!1})}window.addEventListener("resize",()=>{k.aspect=window.innerWidth/window.innerHeight,k.updateProjectionMatrix(),R.setSize(window.innerWidth,window.innerHeight)});const rt=new ae(200,200),_=new d(rt,I);_.rotation.x=-Math.PI/2;_.position.y=-.05;_.receiveShadow=!0;p.add(_);const se=new U,Te=new O(1,6,1),M=14,v=4;for(let t=0;t<M;t++){const o=(t-(M-1)/2)*v,i=3,s=new d(Te,I);s.position.set(o,i,14),s.castShadow=!0,se.add(s);const e=new d(Te,I);e.position.set(o,i,-14),e.castShadow=!0,se.add(e)}p.add(se);const Ae=new U,S=7,J=1;function ct(t){const o=new U,i=6+t*S,s=v*M,e=35,a=1,h=s-25,f=e-10,u=new Ee;u.moveTo(-s/2,-e/2),u.lineTo(-s/2,e/2),u.lineTo(s/2,e/2),u.lineTo(s/2,-e/2),u.lineTo(-s/2,-e/2);const b=new ke;b.moveTo(-h/2,-f/2),b.lineTo(-h/2,f/2),b.lineTo(h/2,f/2),b.lineTo(h/2,-f/2),b.lineTo(-h/2,-f/2),u.holes.push(b);const B={steps:1,depth:a,bevelEnabled:!1},P=new Re(u,B),N=new d(P,I);N.position.y=i+a/2,N.rotation.x=-Math.PI/2,N.receiveShadow=!0,N.castShadow=!0,o.add(N);const ue=new O(1,S,1.5),me=new O(v-1,S-1,.2);for(let V=0;V<M;V++){const te=(V-(M-1)/2)*v,oe=new d(ue,I);oe.position.set(te,i+S/2-.5,14),oe.castShadow=!0,o.add(oe);const ne=new d(ue,I);if(ne.position.set(te,i+S/2-.5,-14),ne.castShadow=!0,o.add(ne),V<M-1){const ge=te+v/2,ye=i+S/2,xe=new d(me,Se);xe.position.set(ge,ye,14),o.add(xe);const be=new d(me,Se);be.position.set(ge,ye,-14),o.add(be)}}return o}for(let t=0;t<J;t++)Ae.add(ct(t));p.add(Ae);const Ie=v*M,de=5+J*S,lt=35,dt=1,We=new C({map:$}),Ge=new O(dt,de,lt),G=new d(Ge,We);G.position.set(-Ie/2,de/2,0);G.castShadow=!0;G.receiveShadow=!0;p.add(G);const z=new d(Ge,We);z.position.set(Ie/2,de/2,0);z.castShadow=!0;z.receiveShadow=!0;p.add(z);const T=document.createElement("canvas"),x=T.getContext("2d");T.width=412;T.height=86;x.fillStyle="#9B111E";x.fillRect(0,0,T.width,T.height);for(let t=0;t<5e3;t++){const o=Math.random()*T.width,i=Math.random()*T.height,s=Math.random()*2;x.fillStyle=`rgba(0, 0, 0, ${Math.random()*.1})`,x.fillRect(o,i,s,s),x.fillStyle=`rgba(40, 26, 13, ${Math.random()*.1})`,x.fillRect(o,i,s,s)}x.fillStyle="white";x.font="bold 40px Arial";x.textAlign="center";x.textBaseline="middle";x.fillText("HYPERMARKET",T.width/2,T.height/2);const ht=new re(T),wt=new C({map:ht,side:Ce,metalness:0,roughness:1}),pt=v*M/2,ze=5+J*S,Fe=6+0*S+.5,ft=ze-Fe,ut=(ze+Fe)/2,mt=new ae(pt,ft),Be=new d(mt,wt);Be.position.set(0,ut,17.6);p.add(Be);const j=v*M,D=35,gt=1,W=12,A=new Ee;A.moveTo(-j/2,-D/2);A.lineTo(-j/2,D/2);A.lineTo(j/2,D/2);A.lineTo(j/2,-D/2);A.lineTo(-j/2,-D/2);const Ne=new ke;Ne.absellipse(0,0,W,W,0,Math.PI*2,!1,0);A.holes.push(Ne);const yt={steps:1,depth:gt,bevelEnabled:!1},xt=new Re(A,yt),bt=new C({color:"red",metalness:.1,roughness:.8,side:Ce}),H=new d(xt,bt);H.position.y=5+J*S;H.rotation.x=-Math.PI/2;H.receiveShadow=!0;H.castShadow=!0;p.add(H);const Y=25,q=6,Q=new U,St="blue",X=.25,Oe=new C({color:St,metalness:1,roughness:.3});for(let t=1;t<=q;t++){const o=Math.PI/2.2*(t/q),i=Math.sin(o)*W,s=Math.cos(o)*W;let e=null;for(let a=0;a<=Y;a++){const h=a/Y*Math.PI*2,f=new y(Math.cos(h)*s,i,Math.sin(h)*s);if(e){const u=new y().subVectors(f,e),b=u.length(),B=new y().addVectors(e,f).multiplyScalar(.5),P=new d(new ce(X,X,b,8),Oe);P.position.copy(B),P.quaternion.setFromUnitVectors(new y(0,1,0),u.clone().normalize()),Q.add(P)}e=f}}for(let t=0;t<Y;t++){const o=t/Y*Math.PI*2;let i=null;for(let s=1;s<=q;s++){const e=Math.PI/2.2*(s/q),a=Math.sin(e)*W,h=Math.cos(e)*W,f=new y(Math.cos(o)*h,a,Math.sin(o)*h);if(i){const u=new y().subVectors(f,i),b=u.length(),B=new y().addVectors(i,f).multiplyScalar(.5),P=new d(new ce(X,X,b,8),Oe);P.position.copy(B),P.quaternion.setFromUnitVectors(new y(0,1,0),u.clone().normalize()),Q.add(P)}i=f}}Q.position.y=10.5;p.add(Q);const F=new U,r=document.createElement("canvas"),c=r.getContext("2d");r.width=1536;r.height=1024;c.fillStyle="#CC0000";c.fillRect(0,0,r.width,r.height);c.textAlign="center";c.textBaseline="middle";c.fillStyle="white";c.font="bold 70px Sans-serif";c.fillText("BUN VENIT ÎN UNIVERSUL LITERAR",r.width/2,r.height*.12);c.font="50px Sans-serif";c.fillText("PETRE BARBU",r.width/2,r.height*.22);c.font="40px Sans-serif";c.fillText("PAGINA ESTE ÎN CONSTRUCȚIE",r.width/2,r.height*.3);c.font="30px Sans-serif";c.fillText("petrecenume@gmail.com",r.width/2,r.height*.38);c.font="35px Sans-serif";c.fillText("NOTA: priviți în jur cu mouse-ul, navigați cu tastele W, A, S, D.",r.width/2,r.height*.5);c.font="35px Sans-serif";c.fillText("Cu SPACEBAR săriți în sus de bucurie!",r.width/2,r.height*.58);c.font="bold 45px Sans-serif";c.fillText("TRĂIASCĂ LITERATURA! TRĂIASCĂ POPORUL!",r.width/2,r.height*.72);c.font="bold 45px Sans-serif";c.fillText("ÎN FRUNTE CU SCRIITORUL LUI IUBIT!",r.width/2,r.height*.82);const Tt=new re(r),Pt=new C({map:Tt}),he=15,Mt=10,Ue=new ae(he,Mt),Z=new d(Ue,Pt);Z.castShadow=!0;Z.receiveShadow=!0;Z.position.y=1.5;const g=document.createElement("canvas"),n=g.getContext("2d");g.width=750;g.height=500;n.fillStyle="#CC0000";n.fillRect(0,0,g.width,g.height);n.fillStyle="#FFFF99";n.strokeStyle="#FFFF99";n.lineWidth=8;n.font="bold 50px cursive";n.textAlign="center";n.textBaseline="middle";n.fillText("Petre + Geta",g.width/2,g.height*.3);n.fillText("= LOVE",g.width/2,g.height*.45);const vt=g.width/2,Ct=g.height*.7,w=75;n.save();n.translate(vt,Ct);n.beginPath();n.moveTo(0,w*.25);n.bezierCurveTo(w*.5,-w*.5,w,0,0,w);n.bezierCurveTo(-w,0,-w*.5,-w*.5,0,w*.25);n.closePath();n.fill();n.rotate(-Math.PI/4);n.beginPath();n.moveTo(-w*1.5,0);n.lineTo(w*1.5,0);n.stroke();n.beginPath();n.moveTo(w*1.5,0);n.lineTo(w*1.3,-w*.3);n.lineTo(w*1.3,w*.3);n.closePath();n.fill();n.restore();const we=new re(g);we.wrapS=ie;we.repeat.x=-1;const Et=new C({map:we,side:Me}),ee=new d(Ue,Et);ee.position.y=1.5;ee.position.z=-.01;ee.receiveShadow=!0;F.add(Z);F.add(ee);const kt=8,Pe=.15,je=new ce(Pe,Pe,kt,16),De=new C({color:4473924}),pe=new d(je,De);pe.position.set(-he/2,-1,-.1);pe.castShadow=!0;F.add(pe);const fe=new d(je,De);fe.position.set(he/2,-1,-.1);fe.castShadow=!0;F.add(fe);F.position.set(29,5,33);p.add(F);const K=new le,Rt=new y(1,5,1),Lt=new le().setFromObject(G),At=new le().setFromObject(z);G.updateMatrixWorld();z.updateMatrixWorld();R.compile(p,k);const m=new y,It=20,Wt=-20;function He(){if(requestAnimationFrame(He),Le)l&&l.update();else{const t=et.getDelta();if(l&&l.isLocked===!0){m.x-=m.x*10*t,m.z-=m.z*10*t,m.y+=Wt*t;const o=new y;if(o.z=Number(E.KeyS)-Number(E.KeyW),o.x=Number(E.KeyA)-Number(E.KeyD),o.lengthSq()>0){o.normalize();const e=400;m.x+=o.x*e*t,m.z+=o.z*e*t}l.moveRight(-m.x*t),l.moveForward(-m.z*t),l.object.position.y+=m.y*t;const i=l.object.position;K.setFromCenterAndSize(i,Rt);const s=[Lt,At];for(const e of s)if(K.intersectsBox(e)){const a=K.max.x-e.min.x,h=e.max.x-K.min.x;a<h?i.x-=a:i.x+=h,m.x=0}i.y<5&&(m.y=0,i.y=5,E.Space&&(m.y=It))}}R.render(p,k)}He();
